<<<<<<< HEAD
(()=>{"use strict";var e,t,o,n,a,l={353:(e,t,o)=>{o.d(t,{m_:()=>r});var n=o(977),a=o(864);const l=(0,n.ZF)({apiKey:"AIzaSyC3yOK_QL5QbJaKvjynXXzObl4uKsoJpTU",authDomain:"cmlproduction-1e86a.firebaseapp.com",projectId:"cmlproduction-1e86a",storageBucket:"cmlproduction-1e86a.appspot.com",messagingSenderId:"924402330611",appId:"1:924402330611:web:55155c0a5c5c6a7d4b8086"}),i=(0,a.v0)(l),r=()=>{i.onAuthStateChanged((e=>{if(e)console.log("user mon :>> ",e);else{console.log("none"),window.location.replace("index.html");const e=window.history.state;window.history.replaceState(e,"",window.location.href),window.onpopstate=function(){window.history.replaceState(e,"",window.location.href)}}}))}},141:(e,t,o)=>{o.a(e,(async(e,t)=>{try{var n=o(199),a=o(353),l=o(448),i=o(976),r=o(91),c=o(914),s=e([n]);n=(s.then?(await s)():s)[0],(0,a.m_)(),(0,l.n)();const d=(e,t)=>{let o=0,n=0,a="";e.forEach((e=>{e["Well Name"].includes(t)&&(o=e["Recent Month P&L"],n=e["YTD P&L"],a=e.Date.slice(0,3))})),document.getElementById("pnl").innerHTML=`P&L : $${o.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} ${a}`,document.getElementById("YTD").innerHTML=`$${n.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} YTD`},u=(e,t)=>{var o=0;e.forEach((e=>{e["Well Name"].includes(t)&&(o=100*e["% Payout"])})),document.getElementById("payout").innerHTML="Payout : "+o.toFixed(0).toLocaleString("en-US")+"%"},m=(e,t)=>{let o=e.find((e=>e["Well Name"]===t));void 0!==o?0!==o.SPM?$(document).ready((function(){$("#pumpInfo").toggle(),document.getElementById("c").innerHTML=`C: ${o.C}`,document.getElementById("SPM").innerHTML=`SPM: ${o.SPM}`,document.getElementById("DHSL").innerHTML=`DH SL: ${o["DH SL"]}`,document.getElementById("ideal").innerHTML=`Ideal bfpd: ${o["Ideal bfpd"]}`,document.getElementById("pumpEff").innerHTML=`Pump Eff: ${Math.round(100*o["Pump Eff"])}`,document.getElementById("pumpDepth").innerHTML=`Pump Depth: ${o["Pump Depth"]}`,document.getElementById("GFLAP").innerHTML=`GFLAP: ${o.GFLAP}`,document.getElementById("Inc").innerHTML=`Inc: ${o.Inc}`})):$(document).ready((function(){$("#notPumpingInfo").toggle(),$("#notPumping").html("This well is not pumping")})):$(document).ready((function(){$("#notPumpingInfo").toggle(),$("#notPumping").html("No pump data available")}))},g=(e,t)=>{let o={cuml:0,gasCuml:0,waterCuml:0,formation:""};e.forEach((e=>{t===e[0]&&(o.cuml=e[1],o.gasCuml=e[3],o.waterCuml=e[2],o.formation=e[4])}));const n=document.getElementById("formation"),a=document.getElementById("cumlativeData");o.formation||(document.getElementById("filler4").style.display=""),n.innerHTML=o.formation,a.innerHTML=`Cumulative: ${o.cuml} MBO, ${o.gasCuml} MMCF, ${o.waterCuml} MBW`},p=e=>{let t=null,o=(0,i.Ys)("#siteSelection").node().value;return"default"!=o?t=[o]:null!=sessionStorage.getItem("siteSelection")?(t=[sessionStorage.getItem("siteSelection")],sessionStorage.removeItem("siteSelection")):t=[...e[0][0]],t=t.join(""),sessionStorage.siteSelection=t,t},y=()=>{const e=n.kg;let t=e.map((e=>e["New Prod"]),[]).reverse();return{date:e.map((e=>e.Date),[]).reverse(),"new oil":t}},v=(e,t)=>{const o=p(t.prodData);let n=sessionStorage.getItem("region");null==n&&(sessionStorage.setItem("region","st"),n="st"),"et"!=n&&(d(t.economicsData,o),u(t.payoutData,o),m(t.pumpData,o),document.getElementById("pumpInfo").style.display="none",document.getElementById("notPumpingInfo").style.display="none",["c","SPM","DHSL","ideal","pumpEff","pumpDepth","GFLAP","Inc","notPumping"].forEach((e=>{document.getElementById(e).innerHTML=""}))),g(t.dataCuml,o),document.getElementById("zoomEl").style.visibility="hidden",document.getElementById("wellName").innerHTML=o,document.getElementById("individualTable").style.display="none",["gasDeclineCurve","waterDeclineCurve","waterCutCurve","totalFluidCurve","combinationCurves","moOilCurve"].forEach((e=>{document.getElementById(e).style.display="block"}));let a=y(),l=a.date,i=a["new oil"];const c=t.prodData.filter((e=>e[0]===o));let s=c.map((e=>e[9])),v=c.map((e=>e[2])),f=c.map((e=>e[3])),h=c.map((e=>e[4])),S=c.map((e=>e[7])),b=c.map((e=>e[8])),w=h.map(((e,t)=>e/(e+v[t])*100)),E=v.map(((e,t)=>e+h[t]));e>0&&([s,v,f,h,S,b,i,l]=[s,v,f,h,S,b,i,l].map((t=>t.slice(0,e))));const I=t.MoProdDataST.filter((e=>e[0]===o));I.pop();let B=I.map((e=>e[6])),C=I.map((e=>e[1]));C.reduce(((e,t,o)=>0===o?e.concat(t):e.concat(t+e[o-1])),[]);let T=(0,r.Ho)(l,i,"Production from New Wells (365 Days)",null,"purple",null,!0),D=(0,r.Ho)(s,v,"Oil [BO]",null,"green",S);const L=(0,r.Ho)(s,b,"7 Day Avg","lines",null,null,null,"dot");let P=(0,r.Ho)(s,f,"Gas [MCF]","line","red"),x=(0,r.Ho)(s,h,"Water [BW]","line","blue");const M=(0,r.Ho)(s,w,"line","#25C4DC");let O=(0,r.Ho)(s,E,"Total Fluid [BBLS]","line","black"),$=(0,r.Ho)(B,C,"Monthly Oil [BO]","line","green");const H=document.getElementById("logarithmic").classList.contains("active")?"log":"linear";let _=[D,L,P,x,O,T];"South Texas Total"!==o&&_.pop();let j=[[P],[x],[O],[M],_,[$]];["gasDeclineCurve","waterDeclineCurve","totalFluidCurve","waterCutCurve","combinationCurves","moOilCurve"].forEach(((e,t)=>{j[t].forEach((e=>{e.visible=4===t&&"Oil [BO]"!==e.name?"legendonly":e.visible}));const o=(0,r.wx)(["Gas vs Time (MCFD)","Water vs Time (BWPD)","Total Fluid vs Time (BFPD)","Water Cut Percentage","Combined Production","Monthly Oil vs Time (BOPM)"][t],H,"log"===H?[1,2,5,10,20,50,100,200,500,1e3,2e3,3e3]:null);Plotly.newPlot(e,j[t],o,r.vc)}));const k=document.getElementById("combinationCurves");k.on("plotly_relayout",(function(e){JSON.stringify(e);const t=document.getElementById("zoomEl");t.innerHTML="";const o=document.createElement("p");o.textContent="Produced:",t.appendChild(o);let{"xaxis.range[0]":n,"xaxis.range[1]":a}=e;n||(n=s[s.length-1],a=s[0]);const l=n.substring(0,10),i=a.substring(0,10),r=s.findIndex((e=>e.includes(l))),c=s.findIndex((e=>e.includes(i)));if(-1===r)return;const d=JSON.parse(sessionStorage.getItem("visible_traces")),u={"Gas [MCF]":f,"Oil [BO]":v,"Water [BW]":h,"Total Fluid [BBLS]":E};for(const[e,o]of Object.entries(d))for(let e of o){const o=u[e];console.log(`sum ${e}:>> `,o.slice(c,r+1).reduce(((e,t)=>e+t),0)/1e3);const n=(o.slice(c,r+1).reduce(((e,t)=>e+t),0)/1e3).toFixed(1);let a=-5;"Total Fluid [MB]"==e&&(a=-4);const l=e.slice(a);let i=e.slice(0,a);"Total Fluid [MB]"==e&&(i=`${i} `);const s=document.createElement("p");s.textContent=`${i}: ${n} ${l}`,s.style.fontSize="15px",t.appendChild(s)}t.style.visibility="visible"})),k.on("plotly_legendclick",(function(e){const t=e.curveNumber,o=_[t].name;let n=JSON.parse(sessionStorage.visible_traces)||{visible_traces:[]};n.visible.includes(o)?n.visible=n.visible.filter((e=>e!==o)):n.visible.push(o),sessionStorage.setItem("visible_traces",JSON.stringify(n))})),document.getElementById("siteSelection").focus(),document.getElementById("filler4").style.display="none"},f=e=>{const t=e.map((e=>[...e])),o=p(t),a=t.filter((e=>e[0]==o));console.log("well :>> ",a),a.forEach((e=>{e.shift();for(let t=0;t<2;t++)e.pop()})),console.log("well :>> ",a),n.sb(a),document.getElementById("individualTable").style.display="inline-block",["gasDeclineCurve","waterDeclineCurve","waterCutCurve","totalFluidCurve","combinationCurves","cumOilCurve","cumVSdailyProdCurve","cumVSmoProdCurve","moOilCurve"].forEach((e=>{document.getElementById(e).style.display="none"}))},h=e=>{e.preventDefault();const t=e.target;document.getElementById(t.id).parentNode.querySelectorAll("*").forEach((e=>{e.classList.remove("active")})),t.className+="active";const o=document.getElementById("timeframes").querySelectorAll(".active")[0].id.substring(4);v(Number(o)+1,B),window.innerWidth<400&&setTimeout((function(){try{document.getElementById("siteSelection").blur(),console.log("blurringg")}catch{}}),50),document.getElementById("siteSelection").focus()},S=localStorage.getItem("uid");let b=sessionStorage.getItem("region");console.log("currUid :>> ",S);let w=n.bQ,E=n.OJ,I=n.kL;"et"==b&&(w=n.jD,E=n.n1);const B={prodData:w,dataCuml:E,economicsData:n.vY,payoutData:n.o8,pumpData:n.zY,MoProdDataST:I};["linear","logarithmic","DaysInception","Days30","Days365","Days180"].forEach((e=>{document.getElementById(e).addEventListener("click",h)}));const C="#siteSelection";n.j6(C),(0,i.Ys)(C).on("change",(()=>{let e="DaysInception";31==localStorage.initTime&&(e="Days30"),v(localStorage.initTime,B),(0,c.LB)(e)})),document.getElementById("table").addEventListener("click",(()=>{!0!==(0,c.oN)("table")&&((0,c.Iv)("table","DaysInception"),f(w))}));let T={visible:["Oil [BO]"]};sessionStorage.setItem("visible_traces",JSON.stringify(T)),window.onload=function(){let e="DaysInception";31==localStorage.getItem("initTime")&&(e="Days30"),(0,c.LB)(e),(0,c.uG)(localStorage.getItem("initScale")),v(localStorage.getItem("initTime"),B)}(),t()}catch(e){t(e)}}))},199:(e,t,o)=>{o.a(e,(async(e,n)=>{try{o.d(t,{OJ:()=>r,bQ:()=>e,j6:()=>p,jD:()=>i,kL:()=>l,kg:()=>m,n1:()=>c,o8:()=>d,sb:()=>y,vY:()=>s,zY:()=>u});var a=o(976);const e=await(0,a.AVB)("../data/allProductionData.json").then((e=>e)),l=await(0,a.AVB)("../data/dataMonthlyST.json").then((e=>e)),i=await(0,a.AVB)("../data/allProductionDataET.json").then((e=>e)),r=await(0,a.AVB)("../data/cumProd.json").then((e=>e)),c=await(0,a.AVB)("../data/cumProdET.json").then((e=>e)),s=(await(0,a.AVB)("../data/analyze.json").then((e=>e)),await(0,a.AVB)("../data/analyzeET.json").then((e=>e)),await(0,a.AVB)("../data/formations.json").then((e=>e)),await(0,a.AVB)("../data/economics.json").then((e=>e))),d=await(0,a.AVB)("../data/payouts.json").then((e=>e)),u=await(0,a.AVB)("../data/pumpInfo.json").then((e=>e)),m=(await(0,a.AVB)("../data/legacyEcon.json").then((e=>e)),await(0,a.AVB)("../data\\pldata.json").then((e=>e)),await(0,a.gyn)("../data\\newProd.csv").then((e=>e))),g=()=>{let t=i;"et"!==sessionStorage.getItem("region")&&(t=e);const o=t[0][0],n=new Set;for(let e=0;e<t.length;e++){const a=t[e][0];if(n.add(a),a===o&0!==e)break}return n},p=e=>{let t=(0,a.Ys)(e);g().forEach((e=>{t.append("option").text(e).property("Value",e)}))},y=e=>{const t=(0,a.Ys)("tbody");t.html(""),e.forEach((e=>{let o=t.append("tr");Object.values(e).forEach((e=>{o.append("td").text(e)}))}))};n()}catch(e){n(e)}}),1)},91:(e,t,o)=>{o.d(t,{Ho:()=>n,vc:()=>l,wx:()=>a});const n=(e,t,o,n="lines",a,l,i=!0,r)=>({x:e,y:t,text:l,name:o,visible:i,line:{color:a,dash:r},mode:n}),a=(e,t,o,n,a)=>({title:e,height:null,legend:{orientation:"h",y:1.1,xanchor:"center",x:.5},yaxis:{title:n,type:t||"linear",rangemode:"tozero",autorange:!0,tickformat:"f",tickvals:o,gridcolor:"#dbdbdb"},xaxis:{title:a,gridcolor:"#dbdbdb"}}),l={modeBarButtonsToRemove:["sendDataToCloud","autoScale2d","hoverClosestCartesian","hoverCompareCartesian","lasso2d","zoomIn2d","zoomOut2d","toggleSpikelines"],displaylogo:!1,responsive:!0}},448:(e,t,o)=>{o.d(t,{n:()=>a}),$(document).ready((function(){$("#header").load("../src/pages/header.html",(function(){a()}))}));const n=()=>{let e=sessionStorage.getItem("region");"st"==e||null==e?(console.log("switching to east"),sessionStorage.setItem("region","et")):sessionStorage.setItem("region","st"),sessionStorage.removeItem("siteSelection"),location.reload()},a=()=>{let e=sessionStorage.getItem("region");const t=document.querySelector("#fieldTitle"),o=document.querySelector("#toggleRegion");o.addEventListener("click",n);const a=$(window).width();console.log("currRegion :>> ",e),"st"==e||null==e?(o.innerHTML="East Texas",t.textContent="South Texas Field",a<768&&(t.textContent="CML EXP - South Texas")):(o.innerHTML="South Texas",t.textContent="East Texas Field",a<768&&(t.textContent="CML EXP - East Texas"))}},914:(e,t,o)=>{o.d(t,{Iv:()=>n,LB:()=>a,oN:()=>i,uG:()=>l}),o(864),document.querySelector("#userEmail"),document.querySelector("#userPassword"),document.querySelector("#btnChangePwd"),document.querySelector("#new_pwd"),document.querySelector("#new_pwd_rpt"),document.querySelector("#btnBack"),document.querySelector("#btnLogin"),document.querySelector("#btnLogout"),document.getElementById("login"),document.getElementById("update-pwd"),document.querySelector("#divLoginError"),document.querySelector("#lblLoginErrorMessage"),document.querySelector("#divPwdError"),document.querySelector("#pwdErr");const n=(e,t)=>{let o=document.querySelectorAll(".active");[].forEach.call(o,(e=>{e.classList.remove("active")})),document.getElementById(e).className+="active",document.getElementById(t).className+="active"},a=e=>{let t=document.querySelectorAll(".active");[].forEach.call(t,(e=>{e.id.includes("Days")&&e.classList.remove("active")})),document.getElementById(e).className+="active"},l=e=>{let t=document.querySelectorAll(".active");[].forEach.call(t,(e=>{e.id.includes("Days")||e.classList.remove("active")})),document.getElementById(e).className+="active"},i=e=>{let t=!1,o=document.querySelectorAll(".active");return[].forEach.call(o,(o=>{o.id==e&&(t=!0)})),t}},976:(e,t,o)=>{o.d(t,{AVB:()=>n.AV,Ys:()=>a.Ys,gyn:()=>n.gy}),o(684);var n=o(19),a=o(997);o(286),o(964)},864:(e,t,o)=>{o.d(t,{v0:()=>n.v0});var n=o(924)}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return l[e](o,o.exports,r),o.exports}r.m=l,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r.a=(a,l,i)=>{var r;i&&((r=[]).d=-1);var c,s,d,u=new Set,m=a.exports,g=new Promise(((e,t)=>{d=t,s=e}));g[t]=m,g[e]=e=>(r&&e(r),u.forEach(e),g.catch((e=>{}))),a.exports=g,l((a=>{var l;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var l=[];l.d=0,a.then((e=>{i[t]=e,n(l)}),(e=>{i[o]=e,n(l)}));var i={};return i[e]=e=>e(l),i}}var r={};return r[e]=e=>{},r[t]=a,r})))(a);var i=()=>c.map((e=>{if(e[o])throw e[o];return e[t]})),s=new Promise((t=>{(l=()=>t(i)).r=0;var o=e=>e!==r&&!u.has(e)&&(u.add(e),e&&!e.d&&(l.r++,e.push(l)));c.map((t=>t[e](o)))}));return l.r?s:i()}),(e=>(e?d(g[o]=e):s(m),n(r)))),r&&r.d<0&&(r.d=0)},a=[],r.O=(e,t,o,n)=>{if(!t){var l=1/0;for(d=0;d<a.length;d++){for(var[t,o,n]=a[d],i=!0,c=0;c<t.length;c++)(!1&n||l>=n)&&Object.keys(r.O).every((e=>r.O[e](t[c])))?t.splice(c--,1):(i=!1,n<l&&(l=n));if(i){a.splice(d--,1);var s=o();void 0!==s&&(e=s)}}return e}n=n||0;for(var d=a.length;d>0&&a[d-1][2]>n;d--)a[d]=a[d-1];a[d]=[t,o,n]},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={716:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[l,i,c]=o,s=0;if(l.some((t=>0!==e[t]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var d=c(r)}for(t&&t(o);s<l.length;s++)a=l[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},o=self.webpackChunkprod_1=self.webpackChunkprod_1||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var c=r.O(void 0,[355,529,444,924],(()=>r(141)));c=r.O(c)})();
=======
(()=>{"use strict";var e,t,n,o,l,a={141:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var o=n(199),l=n(448),a=n(971),i=n(976),r=n(91),s=n(914),c=e([o]);o=(c.then?(await c)():c)[0],(0,a.z)(),(0,l.n)();const d=(e,t)=>{let n=0,o=0,l="";e.forEach((e=>{e["Well Name"].includes(t)&&(n=e["Recent Month P&L"],o=e["YTD P&L"],l=e.Date.slice(0,3))})),document.getElementById("pnl").innerHTML=`P&L : $${n.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} ${l}`,document.getElementById("YTD").innerHTML=`$${o.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} YTD`},u=(e,t)=>{var n=0;e.forEach((e=>{e["Well Name"].includes(t)&&(n=100*e["% Payout"])})),document.getElementById("payout").innerHTML="Payout : "+n.toFixed(0).toLocaleString("en-US")+"%"},m=(e,t)=>{let n=e.find((e=>e["Well Name"]===t));void 0!==n?0!==n.SPM?$(document).ready((function(){$("#pumpInfo").toggle(),document.getElementById("c").innerHTML=`C: ${n.C}`,document.getElementById("SPM").innerHTML=`SPM: ${n.SPM}`,document.getElementById("DHSL").innerHTML=`DH SL: ${n["DH SL"]}`,document.getElementById("ideal").innerHTML=`Ideal bfpd: ${n["Ideal bfpd"]}`,document.getElementById("pumpEff").innerHTML=`Pump Eff: ${Math.round(100*n["Pump Eff"])}`,document.getElementById("pumpDepth").innerHTML=`Pump Depth: ${n["Pump Depth"]}`,document.getElementById("GFLAP").innerHTML=`GFLAP: ${n.GFLAP}`,document.getElementById("Inc").innerHTML=`Inc: ${n.Inc}`})):$(document).ready((function(){$("#notPumpingInfo").toggle(),$("#notPumping").html("This well is not pumping")})):$(document).ready((function(){$("#notPumpingInfo").toggle(),$("#notPumping").html("No pump data available")}))},g=(e,t)=>{let n={cuml:0,gasCuml:0,waterCuml:0,formation:""};e.forEach((e=>{t===e[0]&&(n.cuml=e[1],n.gasCuml=e[3],n.waterCuml=e[2],n.formation=e[4])}));const o=document.getElementById("formation"),l=document.getElementById("cumlativeData");n.formation||(document.getElementById("filler4").style.display=""),o.innerHTML=n.formation,l.innerHTML=`Cumulative: ${n.cuml} MBO, ${n.gasCuml} MMCF, ${n.waterCuml} MBW`},p=e=>{let t=null,n=(0,i.Ys)("#siteSelection").node().value;return"default"!=n?t=[n]:null!=sessionStorage.getItem("siteSelection")?(t=[sessionStorage.getItem("siteSelection")],sessionStorage.removeItem("siteSelection")):t=[...e[0][0]],t=t.join(""),sessionStorage.siteSelection=t,t},y=()=>{const e=o.kg;let t=e.map((e=>e["New Prod"]),[]).reverse();return{date:e.map((e=>e.Date),[]).reverse(),"new oil":t}},v=(e,t)=>{const n=p(t.prodData);let o=sessionStorage.getItem("region");null==o&&(sessionStorage.setItem("region","st"),o="st"),"et"!=o&&(d(t.economicsData,n),u(t.payoutData,n),m(t.pumpData,n),document.getElementById("pumpInfo").style.display="none",document.getElementById("notPumpingInfo").style.display="none",["c","SPM","DHSL","ideal","pumpEff","pumpDepth","GFLAP","Inc","notPumping"].forEach((e=>{document.getElementById(e).innerHTML=""}))),g(t.dataCuml,n),document.getElementById("zoomEl").style.visibility="hidden",document.getElementById("wellName").innerHTML=n,document.getElementById("individualTable").style.display="none",["gasDeclineCurve","waterDeclineCurve","waterCutCurve","totalFluidCurve","combinationCurves","moOilCurve"].forEach((e=>{document.getElementById(e).style.display="block"}));let l=y(),a=l.date,i=l["new oil"];const s=t.prodData.filter((e=>e[0]===n));let c=s.map((e=>e[9])),v=s.map((e=>e[2])),h=s.map((e=>e[3])),f=s.map((e=>e[4])),S=s.map((e=>e[7])),w=s.map((e=>e[8])),b=f.map(((e,t)=>e/(e+v[t])*100)),E=v.map(((e,t)=>e+f[t]));e>0&&([c,v,h,f,S,w,i,a]=[c,v,h,f,S,w,i,a].map((t=>t.slice(0,e))));const I=t.MoProdDataST.filter((e=>e[0]===n));I.pop();let B=I.map((e=>e[6])),L=I.map((e=>e[1]));L.reduce(((e,t,n)=>0===n?e.concat(t):e.concat(t+e[n-1])),[]);let T=(0,r.Ho)(a,i,"Production from New Wells (365 Days)",null,"purple",null,!0),C=(0,r.Ho)(c,v,"Oil [BO]",null,"green",S);const D=(0,r.Ho)(c,w,"7 Day Avg","lines",null,null,null,"dot");let P=(0,r.Ho)(c,h,"Gas [MCF]","line","red"),M=(0,r.Ho)(c,f,"Water [BW]","line","blue");const k=(0,r.Ho)(c,b,"line","#25C4DC");let x=(0,r.Ho)(c,E,"Total Fluid [BBLS]","line","black"),O=(0,r.Ho)(B,L,"Monthly Oil [BO]","line","green");const H=document.getElementById("logarithmic").classList.contains("active")?"log":"linear";let $=[C,D,P,M,x,T];"South Texas Total"!==n&&$.pop();let _=[[P],[M],[x],[k],$,[O]];["gasDeclineCurve","waterDeclineCurve","totalFluidCurve","waterCutCurve","combinationCurves","moOilCurve"].forEach(((e,t)=>{_[t].forEach((e=>{e.visible=4===t&&"Oil [BO]"!==e.name?"legendonly":e.visible}));const n=(0,r.wx)(["Gas vs Time (MCFD)","Water vs Time (BWPD)","Total Fluid vs Time (BFPD)","Water Cut Percentage","Combined Production","Monthly Oil vs Time (BOPM)"][t],H,"log"===H?[1,2,5,10,20,50,100,200,500,1e3,2e3,3e3]:null);Plotly.newPlot(e,_[t],n,r.vc)}));const j=document.getElementById("combinationCurves");j.on("plotly_relayout",(function(e){JSON.stringify(e);const t=document.getElementById("zoomEl");t.innerHTML="";const n=document.createElement("p");n.textContent="Produced:",t.appendChild(n);let{"xaxis.range[0]":o,"xaxis.range[1]":l}=e;o||(o=c[c.length-1],l=c[0]);const a=o.substring(0,10),i=l.substring(0,10),r=c.findIndex((e=>e.includes(a))),s=c.findIndex((e=>e.includes(i)));if(-1===r)return;const d=JSON.parse(sessionStorage.getItem("visible_traces")),u={"Gas [MCF]":h,"Oil [BO]":v,"Water [BW]":f,"Total Fluid [BBLS]":E};for(const[e,n]of Object.entries(d))for(let e of n){const n=u[e];console.log(`sum ${e}:>> `,n.slice(s,r+1).reduce(((e,t)=>e+t),0)/1e3);const o=(n.slice(s,r+1).reduce(((e,t)=>e+t),0)/1e3).toFixed(1);let l=-5;"Total Fluid [MB]"==e&&(l=-4);const a=e.slice(l);let i=e.slice(0,l);"Total Fluid [MB]"==e&&(i=`${i} `);const c=document.createElement("p");c.textContent=`${i}: ${o} ${a}`,c.style.fontSize="15px",t.appendChild(c)}t.style.visibility="visible"})),j.on("plotly_legendclick",(function(e){const t=e.curveNumber,n=$[t].name;let o=JSON.parse(sessionStorage.visible_traces)||{visible_traces:[]};o.visible.includes(n)?o.visible=o.visible.filter((e=>e!==n)):o.visible.push(n),sessionStorage.setItem("visible_traces",JSON.stringify(o))})),document.getElementById("siteSelection").focus(),document.getElementById("filler4").style.display="none"},h=e=>{const t=e.map((e=>[...e])),n=p(t),l=t.filter((e=>e[0]==n));console.log("well :>> ",l),l.forEach((e=>{e.shift();for(let t=0;t<2;t++)e.pop()})),console.log("well :>> ",l),o.sb(l),document.getElementById("individualTable").style.display="inline-block",["gasDeclineCurve","waterDeclineCurve","waterCutCurve","totalFluidCurve","combinationCurves","cumOilCurve","cumVSdailyProdCurve","cumVSmoProdCurve","moOilCurve"].forEach((e=>{document.getElementById(e).style.display="none"}))},f=e=>{e.preventDefault();const t=e.target;document.getElementById(t.id).parentNode.querySelectorAll("*").forEach((e=>{e.classList.remove("active")})),t.className+="active";const n=document.getElementById("timeframes").querySelectorAll(".active")[0].id.substring(4);v(Number(n)+1,B),window.innerWidth<400&&setTimeout((function(){}),50),document.getElementById("siteSelection").focus()},S=localStorage.getItem("uid");let w=sessionStorage.getItem("region");console.log("currUid :>> ",S);let b=o.bQ,E=o.OJ,I=o.kL;"et"==w&&(b=o.jD,E=o.n1);const B={prodData:b,dataCuml:E,economicsData:o.vY,payoutData:o.o8,pumpData:o.zY,MoProdDataST:I};["linear","logarithmic","DaysInception","Days30","Days365","Days180"].forEach((e=>{document.getElementById(e).addEventListener("click",f)}));const L="#siteSelection";o.j6(L),(0,i.Ys)(L).on("change",(()=>{let e="DaysInception";31==localStorage.initTime&&(e="Days30"),v(localStorage.initTime,B),(0,s.LB)(e)})),document.getElementById("table").addEventListener("click",(()=>{!0!==(0,s.oN)("table")&&((0,s.Iv)("table","DaysInception"),h(b))}));let T={visible:["Oil [BO]"]};sessionStorage.setItem("visible_traces",JSON.stringify(T)),window.onload=function(){let e="DaysInception";31==localStorage.getItem("initTime")&&(e="Days30"),(0,s.LB)(e),(0,s.uG)(localStorage.getItem("initScale")),v(localStorage.getItem("initTime"),B)}(),t()}catch(e){t(e)}}))},199:(e,t,n)=>{n.a(e,(async(e,o)=>{try{n.d(t,{OJ:()=>r,bQ:()=>e,j6:()=>p,jD:()=>i,kL:()=>a,kg:()=>m,n1:()=>s,o8:()=>d,sb:()=>y,vY:()=>c,zY:()=>u});var l=n(976);const e=await(0,l.AVB)("../data/allProductionData.json").then((e=>e)),a=await(0,l.AVB)("../data/dataMonthlyST.json").then((e=>e)),i=await(0,l.AVB)("../data/allProductionDataET.json").then((e=>e)),r=await(0,l.AVB)("../data/cumProd.json").then((e=>e)),s=await(0,l.AVB)("../data/cumProdET.json").then((e=>e)),c=(await(0,l.AVB)("../data/analyze.json").then((e=>e)),await(0,l.AVB)("../data/analyzeET.json").then((e=>e)),await(0,l.AVB)("../data/formations.json").then((e=>e)),await(0,l.AVB)("../data/economics.json").then((e=>e))),d=await(0,l.AVB)("../data/payouts.json").then((e=>e)),u=await(0,l.AVB)("../data/pumpInfo.json").then((e=>e)),m=(await(0,l.AVB)("../data/legacyEcon.json").then((e=>e)),await(0,l.AVB)("../data\\pldata.json").then((e=>e)),await(0,l.gyn)("../data\\newProd.csv").then((e=>e))),g=()=>{let t=i;"et"!==sessionStorage.getItem("region")&&(t=e);const n=t[0][0],o=new Set;for(let e=0;e<t.length;e++){const l=t[e][0];if(o.add(l),l===n&0!==e)break}return o},p=e=>{let t=(0,l.Ys)(e);g().forEach((e=>{t.append("option").text(e).property("Value",e)}))},y=e=>{const t=(0,l.Ys)("tbody");t.html(""),e.forEach((e=>{let n=t.append("tr");Object.values(e).forEach((e=>{n.append("td").text(e)}))}))};o()}catch(e){o(e)}}),1)},971:(e,t,n)=>{n.d(t,{z:()=>c});var o=n(914),l=n(977),a=n(864),i=n(679);const r=(0,l.ZF)({apiKey:"AIzaSyC3yOK_QL5QbJaKvjynXXzObl4uKsoJpTU",authDomain:"cmlproduction-1e86a.firebaseapp.com",projectId:"cmlproduction-1e86a",storageBucket:"cmlproduction-1e86a.appspot.com",messagingSenderId:"924402330611",appId:"1:924402330611:web:55155c0a5c5c6a7d4b8086"}),s=(0,a.v0)(r);(0,i.N8)();const c=async()=>{(0,a.Aj)(s,(e=>{null!=e?(localStorage.setItem("uid",e.uid),localStorage.setItem("email",e.email),console.log("user :>> ",e)):(console.log("user :>> ",e),(0,o.L8)())}))},d=async()=>{let e=o.RX.value.replace(/\s/g,"");const t=o.ek.value;"@cml.com"!=e.substring(e.length-8)&&(e=`${e}@cml.com`),(0,a.e5)(s,e,t).then((e=>{u(e.user),(0,o.i1)()})).catch((e=>{console.log("error :>> ",e),(0,o.r7)(e)}))},u=e=>{null==localStorage.getItem("initTime")&&localStorage.setItem("initTime",0),null==localStorage.getItem("initScale")&&localStorage.setItem("initScale","linear"),localStorage.setItem("uid",e.uid),localStorage.setItem("email",e.email),sessionStorage.setItem("region","st"),sessionStorage.changePwd=!1},m=async()=>{if(o.Mu.value!==o.bh.value)return void(0,o.GK)("Passwords do not match");const e=(0,a.v0)().currentUser;(0,a.gQ)(e,o.bh.value).then((()=>{console.log("s :>> "),sessionStorage.changePwd="success",window.location.href="./index.html"})).catch((e=>{console.log("update pwd error :>> ",e)}))};"index.html"==window.location.pathname.split("/").pop()&&(c(),window.onload=((0,o.qb)(),(0,o.w)(),void(()=>{const e=sessionStorage.changePwd;"true"==e?(o._v.style.display="block",o.cr.style.display="none"):"success"==e?(o._v.style.display="none",o.cr.style.display="block",(0,o.r7)("Please login back in with new password")):(o._v.style.display="none",o.cr.style.display="block"),o.Df.addEventListener("click",d),o.t5.addEventListener("click",m),o.Xe.addEventListener("click",(()=>{window.location.href="./profile.html",sessionStorage.changePwd=!1})),o.cr.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),o.Df.click())})),o._v.addEventListener("keydown",(function(e){"Enter"==e.key&&(e.preventDefault(),o.t5.click())}))})()))},91:(e,t,n)=>{n.d(t,{Ho:()=>o,vc:()=>a,wx:()=>l});const o=(e,t,n,o="lines",l,a,i=!0,r)=>({x:e,y:t,text:a,name:n,visible:i,line:{color:l,dash:r},mode:o}),l=(e,t,n,o,l)=>({title:e,height:null,legend:{orientation:"h",y:1.1,xanchor:"center",x:.5},yaxis:{title:o,type:t||"linear",rangemode:"tozero",autorange:!0,tickformat:"f",tickvals:n,gridcolor:"#dbdbdb"},xaxis:{title:l,gridcolor:"#dbdbdb"}}),a={modeBarButtonsToRemove:["sendDataToCloud","autoScale2d","hoverClosestCartesian","hoverCompareCartesian","lasso2d","zoomIn2d","zoomOut2d","toggleSpikelines"],displaylogo:!1,responsive:!0}},448:(e,t,n)=>{n.d(t,{n:()=>l}),$(document).ready((function(){$("#header").load("../src/pages/header.html",(function(){l()}))}));const o=()=>{let e=sessionStorage.getItem("region");"st"==e||null==e?(console.log("switching to east"),sessionStorage.setItem("region","et")):sessionStorage.setItem("region","st"),sessionStorage.removeItem("siteSelection"),location.reload()},l=()=>{let e=sessionStorage.getItem("region");const t=document.querySelector("#fieldTitle"),n=document.querySelector("#toggleRegion");n.addEventListener("click",o);const l=$(window).width();console.log("currRegion :>> ",e),"st"==e||null==e?(n.innerHTML="East Texas",t.textContent="South Texas Field",l<768&&(t.textContent="CML EXP - South Texas")):(n.innerHTML="South Texas",t.textContent="East Texas Field",l<768&&(t.textContent="CML EXP - East Texas"))}},914:(e,t,n)=>{n.d(t,{Df:()=>d,GK:()=>b,Iv:()=>I,L8:()=>h,LB:()=>B,Mu:()=>r,RX:()=>l,Xe:()=>c,_v:()=>m,bh:()=>s,cr:()=>u,ek:()=>a,i1:()=>f,oN:()=>T,qb:()=>E,r7:()=>w,t5:()=>i,uG:()=>L,w:()=>S});var o=n(864);const l=document.querySelector("#userEmail"),a=document.querySelector("#userPassword"),i=document.querySelector("#btnChangePwd"),r=document.querySelector("#new_pwd"),s=document.querySelector("#new_pwd_rpt"),c=document.querySelector("#btnBack"),d=document.querySelector("#btnLogin"),u=(document.querySelector("#btnLogout"),document.getElementById("login")),m=document.getElementById("update-pwd"),g=document.querySelector("#divLoginError"),p=document.querySelector("#lblLoginErrorMessage"),y=document.querySelector("#divPwdError"),v=document.querySelector("#pwdErr"),h=()=>{"index.html"!=window.location.pathname.split("/").pop()&&(window.location.href="./index.html")},f=()=>{"index.html"==window.location.pathname.split("/").pop()&&(window.location.href="./curves.html")},S=()=>{g.style.display="none",p.innerHTML=""},w=e=>{g.style.display="block",e.code==o.kq.INVALID_PASSWORD?p.innerHTML="Wrong password":"success"==sessionStorage.changePwd?p.innerHTML=e:p.innerHTML=`Error: ${e}`},b=e=>{y.style.display="block",v.innerHTML=`Error: ${e}`},E=()=>{y.style.display="none",v.innerHTML=""},I=(e,t)=>{let n=document.querySelectorAll(".active");[].forEach.call(n,(e=>{e.classList.remove("active")})),document.getElementById(e).className+="active",document.getElementById(t).className+="active"},B=e=>{let t=document.querySelectorAll(".active");[].forEach.call(t,(e=>{e.id.includes("Days")&&e.classList.remove("active")})),document.getElementById(e).className+="active"},L=e=>{let t=document.querySelectorAll(".active");[].forEach.call(t,(e=>{e.id.includes("Days")||e.classList.remove("active")})),document.getElementById(e).className+="active"},T=e=>{let t=!1,n=document.querySelectorAll(".active");return[].forEach.call(n,(n=>{n.id==e&&(t=!0)})),t}},976:(e,t,n)=>{n.d(t,{AVB:()=>o.AV,Ys:()=>l.Ys,gyn:()=>o.gy}),n(684);var o=n(19),l=n(997);n(286),n(964)},864:(e,t,n)=>{n.d(t,{Aj:()=>o.Aj,e5:()=>o.e5,gQ:()=>o.gQ,kq:()=>o.kq,v0:()=>o.v0});var o=n(924)}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,r),n.exports}r.m=a,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r.a=(l,a,i)=>{var r;i&&((r=[]).d=1);var s,c,d,u=new Set,m=l.exports,g=new Promise(((e,t)=>{d=t,c=e}));g[t]=m,g[e]=e=>(r&&e(r),u.forEach(e),g.catch((e=>{}))),l.exports=g,a((l=>{var a;s=(l=>l.map((l=>{if(null!==l&&"object"==typeof l){if(l[e])return l;if(l.then){var a=[];a.d=0,l.then((e=>{i[t]=e,o(a)}),(e=>{i[n]=e,o(a)}));var i={};return i[e]=e=>e(a),i}}var r={};return r[e]=e=>{},r[t]=l,r})))(l);var i=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(a=()=>t(i)).r=0;var n=e=>e!==r&&!u.has(e)&&(u.add(e),e&&!e.d&&(a.r++,e.push(a)));s.map((t=>t[e](n)))}));return a.r?c:i()}),(e=>(e?d(g[n]=e):c(m),o(r)))),r&&(r.d=0)},l=[],r.O=(e,t,n,o)=>{if(!t){var a=1/0;for(d=0;d<l.length;d++){for(var[t,n,o]=l[d],i=!0,s=0;s<t.length;s++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](t[s])))?t.splice(s--,1):(i=!1,o<a&&(a=o));if(i){l.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=l.length;d>0&&l[d-1][2]>o;d--)l[d]=l[d-1];l[d]=[t,n,o]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={716:0,179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,l,[a,i,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(s)var d=s(r)}for(t&&t(n);c<a.length;c++)l=a[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(d)},n=self.webpackChunkprod_1=self.webpackChunkprod_1||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=r.O(void 0,[529,264,355],(()=>r(141)));s=r.O(s)})();
>>>>>>> 4cd901f6c4ecb18407119ba9bea93d89f53e2e56
