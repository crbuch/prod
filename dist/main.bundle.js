(()=>{"use strict";var e,o={605:(e,o,t)=>{var r=t(864);const n=document.querySelector("#userEmail"),l=document.querySelector("#userPassword"),c=document.querySelector("#btnChangePwd"),s=document.querySelector("#new_pwd"),a=document.querySelector("#new_pwd_rpt"),i=document.querySelector("#btnBack"),d=document.querySelector("#btnLogin"),u=(document.querySelector("#btnLogout"),document.getElementById("login")),p=document.getElementById("update-pwd"),y=document.querySelector("#divLoginError"),m=document.querySelector("#lblLoginErrorMessage"),g=document.querySelector("#divPwdError"),w=document.querySelector("#pwdErr"),h=e=>{y.style.display="block",e.code==r.kq.INVALID_PASSWORD?m.innerHTML="Wrong password":"success"==sessionStorage.changePwd?m.innerHTML=e:m.innerHTML=`Error: ${e}`},v=(0,t(977).ZF)({apiKey:"AIzaSyC3yOK_QL5QbJaKvjynXXzObl4uKsoJpTU",authDomain:"cmlproduction-1e86a.firebaseapp.com",projectId:"cmlproduction-1e86a",storageBucket:"cmlproduction-1e86a.appspot.com",messagingSenderId:"924402330611",appId:"1:924402330611:web:55155c0a5c5c6a7d4b8086"}),f=(0,r.v0)(v),b=async()=>{let e=n.value.replace(/\s/g,"");const o=l.value;"@cml.com"!=e.substring(e.length-8)&&(e=`${e}@cml.com`),((e,o)=>(0,r.e5)(f,e,o))(e,o).then((e=>{var o;console.log("userCredential :>> ",e),o=e.user,null==localStorage.getItem("initTime")&&localStorage.setItem("initTime",0),null==localStorage.getItem("initScale")&&localStorage.setItem("initScale","linear"),localStorage.setItem("uid",o.uid),localStorage.setItem("displayName",o.displayName),sessionStorage.setItem("region","st"),sessionStorage.changePwd=!1,"index.html"==window.location.pathname.split("/").pop()&&(window.location.href="./curves.html")})).catch((e=>{console.log("err :>> ",e),h(e)}))},S=async()=>{if(s.value!==a.value)return"Passwords do not match",g.style.display="block",void(w.innerHTML="Error: Passwords do not match");(e=>{const o=f.currentUser;return o?(0,r.gQ)(o,e):Promise.reject(new Error("No user is currently signed in."))})(s.value).then((()=>{sessionStorage.changePwd="success",window.location.href="./index.html"})).catch((e=>{console.log("err :>> ",e)}))};window.onload=(g.style.display="none",w.innerHTML="",y.style.display="none",m.innerHTML="",void(()=>{const e=sessionStorage.changePwd;"true"==e?(p.style.display="block",u.style.display="none"):"success"==e?(p.style.display="none",u.style.display="block",h("Please login back in with new password")):(p.style.display="none",u.style.display="block"),d.addEventListener("click",b),c.addEventListener("click",S),i.addEventListener("click",(()=>{window.location.href="./profile.html",sessionStorage.changePwd=!1})),u.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),d.click())})),p.addEventListener("keydown",(function(e){"Enter"==e.key&&(e.preventDefault(),c.click())}))})())}},t={};function r(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return o[e](l,l.exports,r),l.exports}r.m=o,e=[],r.O=(o,t,n,l)=>{if(!t){var c=1/0;for(d=0;d<e.length;d++){for(var[t,n,l]=e[d],s=!0,a=0;a<t.length;a++)(!1&l||c>=l)&&Object.keys(r.O).every((e=>r.O[e](t[a])))?t.splice(a--,1):(s=!1,l<c&&(c=l));if(s){e.splice(d--,1);var i=n();void 0!==i&&(o=i)}}return o}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[t,n,l]},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={179:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var n,l,[c,s,a]=t,i=0;if(c.some((o=>0!==e[o]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(a)var d=a(r)}for(o&&o(t);i<c.length;i++)l=c[i],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(d)},t=self.webpackChunkprod_1=self.webpackChunkprod_1||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var n=r.O(void 0,[529,444,864],(()=>r(605)));n=r.O(n)})();