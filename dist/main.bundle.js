(()=>{"use strict";var e,n={605:(e,n,o)=>{var t=o(864);const r=document.querySelector("#userEmail"),i=document.querySelector("#userPassword"),s=document.querySelector("#btnChangePwd"),a=document.querySelector("#new_pwd"),c=document.querySelector("#new_pwd_rpt"),l=document.querySelector("#btnBack"),d=document.querySelector("#btnLogin"),u=(document.querySelector("#btnLogout"),document.getElementById("login")),p=document.getElementById("update-pwd"),g=document.querySelector("#divLoginError"),y=document.querySelector("#lblLoginErrorMessage"),m=document.querySelector("#divPwdError"),w=document.querySelector("#pwdErr"),h=e=>{g.style.display="block",e.code==t.kq.INVALID_PASSWORD?y.innerHTML="Wrong password":"success"==sessionStorage.changePwd?y.innerHTML=e:y.innerHTML=`Error: ${e}`};-1!==navigator.userAgent.indexOf("Mobile")||-1!==navigator.userAgent.indexOf("iPhone")||-1!==navigator.userAgent.indexOf("Android")||navigator.userAgent.indexOf("Windows Phone");const v=(0,o(977).ZF)({apiKey:"AIzaSyC3yOK_QL5QbJaKvjynXXzObl4uKsoJpTU",authDomain:"cmlproduction-1e86a.firebaseapp.com",projectId:"cmlproduction-1e86a",storageBucket:"cmlproduction-1e86a.appspot.com",messagingSenderId:"924402330611",appId:"1:924402330611:web:55155c0a5c5c6a7d4b8086"}),f=(0,t.v0)(v),b=async()=>{let e=r.value.replace(/\s/g,"");const n=i.value;"@cml.com"!=e.substring(e.length-8)&&(e=`${e}@cml.com`),((e,n)=>(0,t.e5)(f,e,n))(e,n).then((e=>{console.log("userCredential :>> ",e),(e=>{let n=window.innerWidth<768?31:0;localStorage.setItem("initTime",n),null==localStorage.getItem("initScale")&&localStorage.setItem("initScale","linear"),localStorage.setItem("uid",e.uid),localStorage.setItem("displayName",e.displayName),sessionStorage.setItem("region","ST"),sessionStorage.changePwd=!1})(e.user),"index.html"==window.location.pathname.split("/").pop()&&(window.location.href="./curves.html")})).catch((e=>{console.log("err :>> ",e),h(e)}))},S=async()=>{if(a.value!==c.value)return"Passwords do not match",m.style.display="block",void(w.innerHTML="Error: Passwords do not match");(e=>{const n=f.currentUser;return n?(0,t.gQ)(n,e):Promise.reject(new Error("No user is currently signed in."))})(a.value).then((()=>{sessionStorage.changePwd="success",window.location.href="./index.html"})).catch((e=>{console.log("err :>> ",e)}))};window.onload=(m.style.display="none",w.innerHTML="",g.style.display="none",y.innerHTML="",void(()=>{const e=sessionStorage.changePwd;"true"==e?(p.style.display="block",u.style.display="none"):"success"==e?(p.style.display="none",u.style.display="block",h("Please login back in with new password")):(p.style.display="none",u.style.display="block"),d.addEventListener("click",b),s.addEventListener("click",S),l.addEventListener("click",(()=>{window.location.href="./profile.html",sessionStorage.changePwd=!1})),u.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),d.click())})),p.addEventListener("keydown",(function(e){"Enter"==e.key&&(e.preventDefault(),s.click())}))})())}},o={};function t(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,t),i.exports}t.m=n,e=[],t.O=(n,o,r,i)=>{if(!o){var s=1/0;for(d=0;d<e.length;d++){for(var[o,r,i]=e[d],a=!0,c=0;c<o.length;c++)(!1&i||s>=i)&&Object.keys(t.O).every((e=>t.O[e](o[c])))?o.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(d--,1);var l=r();void 0!==l&&(n=l)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,r,i]},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};t.O.j=n=>0===e[n];var n=(n,o)=>{var r,i,[s,a,c]=o,l=0;if(s.some((n=>0!==e[n]))){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(c)var d=c(t)}for(n&&n(o);l<s.length;l++)i=s[l],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},o=self.webpackChunkprod_1=self.webpackChunkprod_1||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))})();var r=t.O(void 0,[529,444,864],(()=>t(605)));r=t.O(r)})();