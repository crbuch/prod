(()=>{"use strict";var e,t,o,n,a,l={199:(e,t,o)=>{o.a(e,(async(e,n)=>{try{o.d(t,{kL:()=>e,l7:()=>r,o8:()=>l});var a=o(302);await(0,a.AVB)("../data/allProductionData.json").then((e=>e));const e=await(0,a.AVB)("../data/dataMonthlyST.json").then((e=>e)),l=(await(0,a.AVB)("../data/allProductionDataET.json").then((e=>e)),await(0,a.AVB)("../data/cumProd.json").then((e=>e)),await(0,a.AVB)("../data/cumProdET.json").then((e=>e)),await(0,a.AVB)("../data/analyze.json").then((e=>e)),await(0,a.AVB)("../data/analyzeET.json").then((e=>e)),await(0,a.AVB)("../data/formations.json").then((e=>e)),await(0,a.AVB)("../data/economics.json").then((e=>e)),await(0,a.AVB)("../data/payouts.json").then((e=>e))),r=(await(0,a.AVB)("../data/pumpInfo.json").then((e=>e)),await(0,a.AVB)("../data/legacyEcon.json").then((e=>e)),await(0,a.AVB)("../data\\pldata.json").then((e=>e)));n()}catch(e){n(e)}}),1)},971:(e,t,o)=>{o.d(t,{k:()=>m,z:()=>i});var n=o(914),a=o(977),l=o(864),r=o(679);const s=(0,a.ZF)({apiKey:"AIzaSyC3yOK_QL5QbJaKvjynXXzObl4uKsoJpTU",authDomain:"cmlproduction-1e86a.firebaseapp.com",projectId:"cmlproduction-1e86a",storageBucket:"cmlproduction-1e86a.appspot.com",messagingSenderId:"924402330611",appId:"1:924402330611:web:55155c0a5c5c6a7d4b8086"}),c=(0,l.v0)(s);(0,r.N8)();const i=async()=>{(0,l.Aj)(c,(e=>{null!=e?(localStorage.setItem("uid",e.uid),localStorage.setItem("email",e.email),console.log("user :>> ",e)):(console.log("user :>> ",e),(0,n.L8)())}))},d=async()=>{let e=n.RX.value.replace(/\s/g,"");const t=n.ek.value;"@cml.com"!=e.substring(e.length-8)&&(e=`${e}@cml.com`),(0,l.e5)(c,e,t).then((e=>{u(e.user),(0,n.i1)()})).catch((e=>{console.log("error :>> ",e),(0,n.r7)(e)}))},u=e=>{null==localStorage.getItem("initTime")&&localStorage.setItem("initTime",0),null==localStorage.getItem("initScale")&&localStorage.setItem("initScale","linear"),localStorage.setItem("uid",e.uid),localStorage.setItem("email",e.email),sessionStorage.setItem("region","st"),sessionStorage.changePwd=!1},m=async()=>{const e=(0,l.v0)();(0,l.w7)(e).then((()=>{localStorage.removeItem("currUid")})).catch((e=>{}))},p=async()=>{if(n.Mu.value!==n.bh.value)return void(0,n.GK)("Passwords do not match");const e=(0,l.v0)().currentUser;(0,l.gQ)(e,n.bh.value).then((()=>{console.log("s :>> "),sessionStorage.changePwd="success",window.location.href="./index.html"})).catch((e=>{console.log("update pwd error :>> ",e)}))};"index.html"==window.location.pathname.split("/").pop()&&(i(),window.onload=((0,n.qb)(),(0,n.w)(),void(()=>{const e=sessionStorage.changePwd;"true"==e?(n._v.style.display="block",n.cr.style.display="none"):"success"==e?(n._v.style.display="none",n.cr.style.display="block",(0,n.r7)("Please login back in with new password")):(n._v.style.display="none",n.cr.style.display="block"),n.Df.addEventListener("click",d),n.t5.addEventListener("click",p),n.Xe.addEventListener("click",(()=>{window.location.href="./profile.html",sessionStorage.changePwd=!1})),n.cr.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),n.Df.click())})),n._v.addEventListener("keydown",(function(e){"Enter"==e.key&&(e.preventDefault(),n.t5.click())}))})()))},91:(e,t,o)=>{o.d(t,{Ho:()=>n,vc:()=>a});const n=(e,t,o,n="lines",a,l,r=!0,s)=>({x:e,y:t,text:l,name:o,visible:r,line:{color:a,dash:s},mode:n}),a={modeBarButtonsToRemove:["sendDataToCloud","autoScale2d","hoverClosestCartesian","hoverCompareCartesian","lasso2d","zoomIn2d","zoomOut2d","toggleSpikelines"],displaylogo:!1,responsive:!0}},706:(e,t,o)=>{o.a(e,(async(e,t)=>{try{var n=o(448),a=o(971),l=o(679),r=o(199),s=o(91),c=o(914),i=o(302),d=e([r]);r=(d.then?(await d)():d)[0],(0,a.z)(),(0,n.n)();const u=()=>{let e=localStorage.shares;if(j!=localStorage.skey&&(e=null,localStorage.shares=null),null!==e&&"null"!==e&&null!=e)e=JSON.parse(e),p(e);else{const e=(0,l.iH)(x,"users/"+j+"/deck");(0,l.jM)(e,(e=>{const t=e.val();localStorage.setItem("shares",JSON.stringify(t)),localStorage.setItem("skey",j),t&&p(t)}))}},m=e=>{let t=(0,i.Ys)("#wellSelect");e.forEach((e=>{t.append("option").text(e).property("Value",e)}))},p=e=>{const t={};Object.keys(e).forEach((o=>{t[o.toLowerCase()]=e[o]}));const o=Object.keys(t).map((e=>e.toLowerCase()));let n=Object.keys(e);n.sort(((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"}))),n.unshift("All Wells"),m(n);let a={},l={},s=r.l7;for(let[e,n]of Object.entries(s))for(let[r,s]of Object.entries(n))if(e=e.replace("#","").toLowerCase(),r in a||(a[r]=0),o.includes(e)){const o=t[e];let n=o*s;e in l||(l[e]=[]),l[e].push({Well:e,Date:r,"Recent Mnth Return":n,Share:o}),a[r]+=n}const c=y(a);h(c[0],c[1]);const i=Object.entries(r.o8).map((([e,t])=>o.includes(t["Well Name"].replace("#","").toLowerCase())?t["% Payout"]:null)).filter((e=>null!==e)),d=w(c[1].reduce(((e,t)=>e+t)).toFixed(2));document.getElementById("selected-well").textContent="All Wells",document.getElementById("sum-pl").textContent=`$${d}`,document.getElementById("payout-title").textContent="% Mean Payout",document.getElementById("payout").textContent=`${(100*i.reduce(((e,t)=>e+t))/i.length).toFixed(0)}%`,localStorage.setItem("pl_data_wells",JSON.stringify(l));let u=g(l);u.unshift("All Wells"),f(u),b("All Wells")},g=e=>{let t={};for(let[o,n]of Object.entries(e)){let e=0;for(let[t,o]of Object.entries(n))o["Recent Mnth Return"],e+=o["Recent Mnth Return"];t[o]=e}const o=Object.entries(t);o.sort(((e,t)=>t[1]-e[1]));const n=Object.fromEntries(o);return Object.keys(n)},h=(e,t,o="P&L (ST only)")=>{const n=(0,s.Ho)(e,t,"P&L","lines+markers","black",null),a={title:o,yaxis:{tickformat:"$"}};Plotly.newPlot("returnsCurve",[n],a,s.vc)},y=e=>{const t=Object.keys(e).sort(((e,t)=>{const[o,n]=e.split(" "),[a,l]=t.split(" ");return new Date(`${o} 01 ${n}`)-new Date(`${a} 01 ${l}`)})),o={};return t.forEach((t=>{o[t]=e[t]})),[Object.entries(o).map((([e,t])=>e)),Object.entries(o).map((([e,t])=>t))]},w=e=>{var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},f=e=>{let t=document.getElementById("well-list");for(let o=0;o<e.length;o++){let n=document.createElement("li");n.classList.add("nav-item","active"),n.style.cursor="pointer";let a=document.createElement("a");a.classList.add("nav-link");let l=document.createElement("span");l.classList.add("menu-title"),l.textContent=E(e[o]),a.appendChild(l),n.appendChild(a),n.onclick=function(){S(e[o]),b(e[o])},t.appendChild(n)}},S=e=>{let t=localStorage.getItem("pl_data_wells");if(t=JSON.parse(t),"All Wells"==e)return t=localStorage.getItem("shares"),void p(JSON.parse(t));let o=e.toLowerCase();Object.keys(I).includes(e.toLowerCase())&&(o=I[e.toLowerCase()]);let n=Object.entries(r.o8).filter((e=>e[1]["Well Name"].replace("#","").toLowerCase()==o));0==n.length?document.getElementById("payout").textContent="no data":n=n[0][1]["% Payout"],t=t[e.toLowerCase()];let a={};for(let e in t)a[t[e].Date]=t[e]["Recent Mnth Return"];const l=y(a);if(e=E(e),void 0===t)return document.getElementById("payout").textContent="no data",document.getElementById("sum-pl").textContent="no data",document.getElementById("selected-well").textContent=e,void h(l[0],l[1],`No Economic Data for ${e}`);h(l[0],l[1]);const s=w(l[1].reduce(((e,t)=>e+t)).toFixed(2));document.getElementById("selected-well").textContent=e,document.getElementById("sum-pl").textContent=`$${s}`,document.getElementById("payout-title").textContent="% Payout",document.getElementById("payout").textContent=`${(100*n).toFixed(0)}%`},v=()=>{const e=new Date("2022-01-01"),t=JSON.parse(localStorage.shares);let o=Object.keys(t),n=[];for(let e=0;e<o.length;e++){let t=o[e];Object.keys(L).includes(t)&&(t=L[t]),n.push(t)}let a=r.kL.filter((e=>n.includes(e[0].replace("#","").toLowerCase()))),l={},s={};a=a.map((o=>{let n=new Date(o[6]);if(n>e){let e=o[0].replace("#","").toLowerCase();Object.keys(C).includes(e)&&(e=C[e]),Object.keys(t).includes(e)&&(n=n.toLocaleDateString("en-US",{month:"short",year:"numeric"}),Object.keys(l).includes(n)||(l[n]=0),Object.keys(s).includes(n)||(s[n]=0),l[n]+=o[1]*t[e],s[n]+=o[2]*t[e])}}));const c=y(l),i=y(s);c[0].pop(),c[1].pop(),i[1].pop();const d=c[0].map((e=>e.substring(0,3)+" "+e.substring(6,8)));k(d,c[1],i[1])},b=e=>{const t=e.toLowerCase(),o=new Date("2022-01-01"),n=JSON.parse(localStorage.shares);let a=r.kL;if(Object.keys(L).includes(t)&&(e=L[t]),"All Wells"!==e&&(a=a.filter((t=>t[0].replace("#","").toLowerCase()==e.toLowerCase()))),"All Wells"==e)return void v();a=a.map((e=>{let a=new Date(e[6]);if(a>o){const o=e[1]*n[t],l=e[2]*n[t];return a=a.toLocaleDateString("en-US",{month:"short",year:"numeric"}),[o,l,a]}})).filter((e=>void 0!==e)).map((e=>e.filter((e=>void 0!==e))));let l="Oil & Gas Production";0==a.length&&(l="No Production Data for this Time Period");const s=a.map((e=>e[0])),c=a.map((e=>e[1])),i=a.map((e=>e[2]));s.pop(),c.pop(),i.pop(),k(i,s,c,l)},k=(e,t,o,n="Oil & Gas Production")=>{const a=(0,s.Ho)(e,t,"Oil [Bbls]","lines+markers","green",null),l=(0,s.Ho)(e,o,"Gas [Cf]","lines+markers","red",null),r={title:n,legend:{orientation:"h",y:1.2}};Plotly.newPlot("prodCurve",[a,l],r)};function E(e){return e.replace(/^(.)|\s+(.)/g,(function(e){return e.toUpperCase()}))}const I={"cr 939h":"cr 939","bruce weaver 2":"bruce weaver 2 re"},L={"bruce weaver 2":"bruce weaver 2 re","burns ranch 2 1":"burns ranch 2","cr 939h":"cr 939","pfeiffer 2re":"pfeiffer 2"},C={"bruce weaver 2 re":"bruce weaver 2","burns ranch 2":"burns ranch 2 1","cr 939":"cr 939h","pfeiffer 2":"pfeiffer 2re"},x=(0,l.N8)(),j=localStorage.getItem("uid");document.getElementById("btnLogout").addEventListener("click",a.k),u(),(0,i.Ys)("#wellSelect").on("change",(()=>{let e=(0,i.Ys)("#wellSelect").node().value;S(e),b(e)}));const O=document.getElementById("searchInput"),B=document.getElementById("well-list").getElementsByTagName("li");O.addEventListener("input",(function(){const e=O.value.toLowerCase();for(let t=0;t<B.length;t++)B[t].getElementsByTagName("span")[0].textContent.toLowerCase().includes(e)?B[t].style.display="block":B[t].style.display="none"})),document.getElementById("init_scale").addEventListener("click",(()=>{(0,c.by)()})),document.getElementById("init_time").addEventListener("click",(()=>{(0,c.eX)()})),document.getElementById("show_pwd_form_btn").addEventListener("click",(()=>{sessionStorage.changePwd="true",window.location.href="./index.html"})),window.onload=function(){let e="30 Days";0==localStorage.getItem("initTime")&&(e="Inception"),document.getElementById("init_scale").textContent=localStorage.getItem("initScale"),document.getElementById("init_time").textContent=e}(),t()}catch(_){t(_)}}))},448:(e,t,o)=>{o.d(t,{n:()=>a}),$(document).ready((function(){$("#header").load("../src/pages/header.html",(function(){a()}))}));const n=()=>{let e=sessionStorage.getItem("region");"st"==e||null==e?(console.log("switching to east"),sessionStorage.setItem("region","et")):sessionStorage.setItem("region","st"),sessionStorage.removeItem("siteSelection"),location.reload()},a=()=>{let e=sessionStorage.getItem("region");const t=document.querySelector("#fieldTitle"),o=document.querySelector("#toggleRegion");o.addEventListener("click",n);const a=$(window).width();console.log("currRegion :>> ",e),"st"==e||null==e?(o.innerHTML="East Texas",t.textContent="South Texas Field",a<768&&(t.textContent="CML EXP - South Texas")):(o.innerHTML="South Texas",t.textContent="East Texas Field",a<768&&(t.textContent="CML EXP - East Texas"))}},914:(e,t,o)=>{o.d(t,{Df:()=>d,GK:()=>b,L8:()=>w,Mu:()=>s,RX:()=>a,Xe:()=>i,_v:()=>m,bh:()=>c,by:()=>I,cr:()=>u,eX:()=>E,ek:()=>l,i1:()=>f,qb:()=>k,r7:()=>v,t5:()=>r,w:()=>S});var n=o(864);const a=document.querySelector("#userEmail"),l=document.querySelector("#userPassword"),r=document.querySelector("#btnChangePwd"),s=document.querySelector("#new_pwd"),c=document.querySelector("#new_pwd_rpt"),i=document.querySelector("#btnBack"),d=document.querySelector("#btnLogin"),u=(document.querySelector("#btnLogout"),document.getElementById("login")),m=document.getElementById("update-pwd"),p=document.querySelector("#divLoginError"),g=document.querySelector("#lblLoginErrorMessage"),h=document.querySelector("#divPwdError"),y=document.querySelector("#pwdErr"),w=()=>{const e=window.location.pathname.split("/").pop();let t;if("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||(t=!0),"index.html"!=e){if(!0===t)return void window.location.replace("http://127.0.0.1:5503/../dist/index.html");window.location.replace("https://matthewplaisance.github.io/STprod/dist/index.html")}},f=()=>{const e=window.location.pathname.split("/").pop();let t;if("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||(t=!0),"index.html"==e){if(!0===t)return void window.location.replace("http://127.0.0.1:5503/../dist/curves.html");window.location.replace("https://matthewplaisance.github.io/STprod/dist/curves.html")}},S=()=>{p.style.display="none",g.innerHTML=""},v=e=>{p.style.display="block",e.code==n.kq.INVALID_PASSWORD?g.innerHTML="Wrong password":"success"==sessionStorage.changePwd?g.innerHTML=e:g.innerHTML=`Error: ${e}`},b=e=>{h.style.display="block",y.innerHTML=`Error: ${e}`},k=()=>{h.style.display="none",y.innerHTML=""},E=()=>{0==localStorage.getItem("initTime")?($("#init_time").text("30 Days"),localStorage.setItem("initTime",31)):($("#init_time").text("Inception"),localStorage.setItem("initTime",0))},I=()=>{"linear"==localStorage.getItem("initScale")?($("#init_scale").text("Logarithmic"),localStorage.setItem("initScale","logarithmic")):($("#init_scale").text("Linear"),localStorage.setItem("initScale","linear"))}}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return l[e](o,o.exports,s),o.exports}s.m=l,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(a,l,r)=>{var s;r&&((s=[]).d=1);var c,i,d,u=new Set,m=a.exports,p=new Promise(((e,t)=>{d=t,i=e}));p[t]=m,p[e]=e=>(s&&e(s),u.forEach(e),p.catch((e=>{}))),a.exports=p,l((a=>{var l;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var l=[];l.d=0,a.then((e=>{r[t]=e,n(l)}),(e=>{r[o]=e,n(l)}));var r={};return r[e]=e=>e(l),r}}var s={};return s[e]=e=>{},s[t]=a,s})))(a);var r=()=>c.map((e=>{if(e[o])throw e[o];return e[t]})),i=new Promise((t=>{(l=()=>t(r)).r=0;var o=e=>e!==s&&!u.has(e)&&(u.add(e),e&&!e.d&&(l.r++,e.push(l)));c.map((t=>t[e](o)))}));return l.r?i:r()}),(e=>(e?d(p[o]=e):i(m),n(s)))),s&&(s.d=0)},a=[],s.O=(e,t,o,n)=>{if(!t){var l=1/0;for(d=0;d<a.length;d++){for(var[t,o,n]=a[d],r=!0,c=0;c<t.length;c++)(!1&n||l>=n)&&Object.keys(s.O).every((e=>s.O[e](t[c])))?t.splice(c--,1):(r=!1,n<l&&(l=n));if(r){a.splice(d--,1);var i=o();void 0!==i&&(e=i)}}return e}n=n||0;for(var d=a.length;d>0&&a[d-1][2]>n;d--)a[d]=a[d-1];a[d]=[t,o,n]},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={845:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[l,r,c]=o,i=0;if(l.some((t=>0!==e[t]))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(c)var d=c(s)}for(t&&t(o);i<l.length;i++)a=l[i],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},o=self.webpackChunkprod_1=self.webpackChunkprod_1||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var c=s.O(void 0,[529,883,406],(()=>s(706)));c=s.O(c)})();