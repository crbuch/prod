(()=>{"use strict";var e,t,o,n,r,l={353:(e,t,o)=>{o.d(t,{LS:()=>i,m_:()=>s});var n=o(977),r=o(864);const l=(0,n.ZF)({apiKey:"AIzaSyC3yOK_QL5QbJaKvjynXXzObl4uKsoJpTU",authDomain:"cmlproduction-1e86a.firebaseapp.com",projectId:"cmlproduction-1e86a",storageBucket:"cmlproduction-1e86a.appspot.com",messagingSenderId:"924402330611",appId:"1:924402330611:web:55155c0a5c5c6a7d4b8086"}),a=(0,r.v0)(l),s=()=>{a.onAuthStateChanged((e=>{if(e)console.log("user mon :>> ",e);else{console.log("none"),window.location.replace("index.html");const e=window.history.state;window.history.replaceState(e,"",window.location.href),window.onpopstate=function(){window.history.replaceState(e,"",window.location.href)}}}))},i=()=>(sessionStorage.removeItem("siteSelection"),(0,r.w7)(a))},91:(e,t,o)=>{o.d(t,{Ho:()=>n,vc:()=>r});const n=(e,t,o,n="lines",r,l,a=!0,s)=>({x:e,y:t,text:l,name:o,visible:a,line:{color:r,dash:s},mode:n}),r={modeBarButtonsToRemove:["sendDataToCloud","autoScale2d","hoverClosestCartesian","hoverCompareCartesian","lasso2d","zoomIn2d","zoomOut2d","toggleSpikelines"],displaylogo:!1,responsive:!0,displayModeBar:!1,responsiveConfig:[{breakpoint:768,options:{legend:{orientation:"h",y:-.2}}},{breakpoint:0,options:{legend:{orientation:"v",y:1}}}]}},706:(e,t,o)=>{o.a(e,(async(e,t)=>{try{var n=o(448),r=o(679),l=o(353),a=o(91),s=o(914),i=o(302);const c=await(0,i.AVB)("../data\\ST\\dataMonthlyST.json").then((e=>e)),d=await(0,i.AVB)("../data/econ/payouts.json").then((e=>e)),u=await(0,i.AVB)("../data\\econ/pldata.json").then((e=>e));(0,l.m_)(),$(document).ready((function(){$("#header").load("../src/pages/header.html",(()=>{console.log("loaded header"),(0,n.n)()}))}));const m=e=>{let t=localStorage.shares;if(_!=localStorage.skey&&(t=null,localStorage.shares=null),null!==t&&"null"!==t&&null!=t)t=JSON.parse(t),g(t);else{const t=(0,r.iH)(e,"users/"+_+"/deck");(0,r.jM)(t,(e=>{const t=e.val();localStorage.setItem("shares",JSON.stringify(t)),localStorage.setItem("skey",_),t&&g(t)}))}},p=e=>{let t=(0,i.Ys)("#wellSelect");e.forEach((e=>{t.append("option").text(e).property("Value",e)}))},g=e=>{const t={};Object.keys(e).forEach((o=>{t[o.toLowerCase()]=e[o]}));const o=Object.keys(t).map((e=>e.toLowerCase()));let n=Object.keys(e);n.sort(((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"}))),n.unshift("All Wells"),p(n);let r={},l={};for(let[e,n]of Object.entries(u))for(let[a,s]of Object.entries(n))if("Well Number"!=a&&"Well Name"!=a&&(e=e.replace("#","").toLowerCase(),a in r||(r[a]=0),o.includes(e))){const o=t[e];let n=o*s;e in l||(l[e]=[]),l[e].push({Well:e,Date:a,"Recent Mnth Return":n,Share:o}),r[a]+=n}const a=h(r);E(a[0],a[1]);const s=Object.entries(d).map((([e,t])=>o.includes(t["Well Name"].replace("#","").toLowerCase())?t["% Payout"]:null)).filter((e=>null!==e)),i=f(a[1].reduce(((e,t)=>e+t)).toFixed(2));document.getElementById("selected-well").textContent="All Wells",document.getElementById("sum-pl").textContent=`$${i}`,document.getElementById("payout-title").textContent="% Mean Payout",document.getElementById("payout").textContent=`${(100*s.reduce(((e,t)=>e+t))/s.length).toFixed(0)}%`,localStorage.setItem("pl_data_wells",JSON.stringify(l));const c=sessionStorage.sortBy;null==c||"pl"==c?y(l):x(l),v("All Wells")},y=e=>{let t={};for(let[o,n]of Object.entries(e)){let e=0;for(let[t,o]of Object.entries(n))o["Recent Mnth Return"],e+=o["Recent Mnth Return"];t[o]=e}const o=Object.entries(t);o.sort(((e,t)=>t[1]-e[1]));const n=Object.fromEntries(o);let r=Object.keys(n);r.unshift("All Wells"),w(r)},h=e=>{const t=Object.keys(e).sort(((e,t)=>{const[o,n]=e.split(" "),[r,l]=t.split(" ");return new Date(`${o} 01 ${n}`)-new Date(`${r} 01 ${l}`)})),o={};return t.forEach((t=>{o[t]=e[t]})),[Object.entries(o).map((([e,t])=>e)),Object.entries(o).map((([e,t])=>t))]},f=e=>{var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},w=e=>{let t=document.getElementById("well-list");t.innerHTML="";for(let o=0;o<e.length;o++){let n=document.createElement("li");n.classList.add("nav-item","active"),n.style.cursor="pointer";let r=document.createElement("a");r.classList.add("nav-link");let l=document.createElement("span");l.classList.add("menu-title"),console.log("wells[i] :>> ",e[o]),l.textContent=O(e[o]),r.appendChild(l),n.appendChild(r),n.onclick=function(){let t=S(e[o]);v(e[o],t[0],t[1])},t.appendChild(n)}},S=e=>{let t=localStorage.getItem("pl_data_wells");if(t=JSON.parse(t),"All Wells"==e)return t=localStorage.getItem("shares"),void g(JSON.parse(t));let o=e.toLowerCase();Object.keys(C).includes(e.toLowerCase())&&(o=C[e.toLowerCase()]);let n=Object.entries(d).filter((e=>e[1]["Well Name"].replace("#","").toLowerCase()==o));0==n.length?document.getElementById("payout").textContent="no data":n=n[0][1]["% Payout"],t=t[e.toLowerCase()];let r={};for(let e in t){const o=t[e].Date,n=t[e]["Recent Mnth Return"];0!==n&&(r[o]=n)}console.log("returns :>> ",r);const l=h(r);if(e=O(e),void 0===t)return document.getElementById("payout").textContent="no data",document.getElementById("sum-pl").textContent="no data",document.getElementById("selected-well").textContent=e,void E(l[0],l[1],`No Economic Data for ${e}`);console.log("dates_pl :>> ",l),console.log("dates_pl[0] :>> ",l[0]),E(l[0],l[1]);const a=f(l[1].reduce(((e,t)=>e+t)).toFixed(2));document.getElementById("selected-well").textContent=e,document.getElementById("sum-pl").textContent=`$${a}`,document.getElementById("payout-title").textContent="% Payout",document.getElementById("payout").textContent=`${(100*n).toFixed(0)}%`;const s=l[0][0].split(" ");return[`20${s[1]}-${B[s[0]]}-01`,l[0]]},b=()=>{const e=new Date("2016-01-01"),t=JSON.parse(localStorage.shares);let o=Object.keys(t),n=[];for(let e=0;e<o.length;e++){let t=o[e];Object.keys(k).includes(t)&&(t=k[t]),n.push(t)}let r=c.filter((e=>n.includes(e[0].replace("#","").toLowerCase()))),l={},a={};r=r.map((o=>{let n=new Date(o[6]);if(n>e){let e=o[0].replace("#","").toLowerCase();Object.keys(L).includes(e)&&(e=L[e]),Object.keys(t).includes(e)&&(n=n.toLocaleDateString("en-US",{month:"short",year:"numeric"}),Object.keys(l).includes(n)||(l[n]=0),Object.keys(a).includes(n)||(a[n]=0),l[n]+=o[1]*t[e],a[n]+=o[2]*t[e])}}));const s=h(l),i=h(a);s[0].pop(),s[1].pop(),i[1].pop();const d=s[0].map((e=>e.substring(0,3)+" "+e.substring(6,8)));I(d,s[1],i[1])},v=(e,t,o)=>{const n=e.toLowerCase(),r=new Date(t),l=JSON.parse(localStorage.shares);Object.keys(k).includes(n)&&(e=k[n]);let a=c;if("All Wells"!==e&&(a=a.filter((t=>t[0].replace("#","").toLowerCase()==e.toLowerCase()))),"All Wells"==e)return void b();a=a.map((e=>{let t=new Date(e[6]);if(t>r){const o=e[1]*l[n],r=e[2]*l[n];return t=t.toLocaleDateString("en-US",{month:"short",year:"numeric"}),[o,r,t]}})).filter((e=>void 0!==e)).map((e=>e.filter((e=>void 0!==e))));let s="Oil & Gas Production";0==a.length&&(s="No Production Data for this Time Period");let i=a.map((e=>e[0])),d=a.map((e=>e[1])),u=a.map((e=>e[2]));if(i.pop(),d.pop(),u.pop(),o.length!==u.length){const e=Math.abs(o.length-u.length);for(let t=e;t>0;t--)u.unshift(o[t-1]);i.unshift(...Array(e).fill(0)),d.unshift(...Array(e).fill(0))}I(u,i,d,s)},I=(e,t,o,n="Oil & Gas Production")=>{e=e.map((e=>e.length>6?e.replace("20",""):e));const r=(0,a.Ho)(e,t,"Oil [Bbls]","lines+markers","green",null),l=(0,a.Ho)(e,o,"Gas [Cf]","lines+markers","red",null),s={title:n,legend:{orientation:"h",y:1.2},xaxis:{dtick:2}};Plotly.newPlot("prodCurve",[r,l],s)},E=(e,t,o="P&L (ST only)")=>{const n=(0,a.Ho)(e,t,"P&L","lines+markers","black",null),r={title:o,yaxis:{tickformat:"$"},xaxis:{dtick:2}};Plotly.newPlot("returnsCurve",[n],r,a.vc)};function O(e){return e.replace(/^(.)|\s+(.)/g,(function(e){return e.toUpperCase()}))}const x=e=>{(e=Object.keys(e).sort()).unshift("All Wells"),w(e)},C={"cr 939h":"cr 939","bruce weaver 2":"bruce weaver 2 re"},k={"bruce weaver 2":"bruce weaver 2 re","burns ranch 2 1":"burns ranch 2","cr 939h":"cr 939","pfeiffer 2re":"pfeiffer 2"},L={"bruce weaver 2 re":"bruce weaver 2","burns ranch 2":"burns ranch 2 1","cr 939":"cr 939h","pfeiffer 2":"pfeiffer 2re"},B={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},_=localStorage.getItem("uid");"fh05lGDE7YSVyAu9eNP4bYRR9n42"!==_&null!==_&&m((0,r.N8)());const j=document.getElementById("searchInput"),P=document.getElementById("well-list").getElementsByTagName("li");j.addEventListener("input",(function(){const e=j.value.toLowerCase();for(let t=0;t<P.length;t++)P[t].getElementsByTagName("span")[0].textContent.toLowerCase().includes(e)?P[t].style.display="block":P[t].style.display="none"})),document.getElementById("btnLogout").addEventListener("click",l.LS),(0,i.Ys)("#wellSelect").on("change",(()=>{let e=(0,i.Ys)("#wellSelect").node().value;S(e),v(e)})),document.getElementById("init_scale").addEventListener("click",(()=>{(0,s.by)()})),document.getElementById("init_time").addEventListener("click",(()=>{(0,s.eX)()})),document.getElementById("show_pwd_form_btn").addEventListener("click",(()=>{sessionStorage.changePwd="true",window.location.href="./index.html"}));const A=document.getElementById("sortBy");let T=sessionStorage.sortBy;A.innerHTML="Sorted: "+("pl"==T||null==T?"P&L ":"Alphabetically"),A.addEventListener("click",(()=>{let e=JSON.parse(localStorage.pl_data_wells),t="alp"==sessionStorage.sortBy?"pl":"alp";A.innerHTML="Sort: "+("alp"==t?"Alphabetically ":"P&L"),sessionStorage.sortBy=t,"alp"==t?x(e):y(e)})),window.onload=function(){let e="30 Days";0==localStorage.getItem("initTime")&&(e="Inception"),document.getElementById("init_scale").textContent=localStorage.getItem("initScale"),document.getElementById("init_time").textContent=e}(),t()}catch(N){t(N)}}),1)},448:(e,t,o)=>{o.d(t,{n:()=>n}),$(document).ready((function(){$("#header").load("../src/pages/header.html")}));const n=()=>{null==sessionStorage.getItem("regionName")&&(sessionStorage.setItem("regionName","South Texas"),sessionStorage.setItem("region","ST")),document.getElementById("currField").innerText=sessionStorage.getItem("regionName"),document.querySelectorAll(".dropdown-item").forEach((e=>{e.addEventListener("click",(function(){sessionStorage.setItem("region",this.id),document.getElementById("currField").innerText=this.innerText,sessionStorage.setItem("regionName",this.innerText),sessionStorage.removeItem("siteSelection"),location.reload()}))}))}},914:(e,t,o)=>{o.d(t,{by:()=>r,eX:()=>n}),o(864),document.querySelector("#userEmail"),document.querySelector("#userPassword"),document.querySelector("#btnChangePwd"),document.querySelector("#new_pwd"),document.querySelector("#new_pwd_rpt"),document.querySelector("#btnBack"),document.querySelector("#btnLogin"),document.querySelector("#btnLogout"),document.getElementById("login"),document.getElementById("update-pwd"),document.querySelector("#divLoginError"),document.querySelector("#lblLoginErrorMessage"),document.querySelector("#divPwdError"),document.querySelector("#pwdErr");const n=()=>{0==localStorage.getItem("initTime")?($("#init_time").text("30 Days"),localStorage.setItem("initTime",31)):($("#init_time").text("Inception"),localStorage.setItem("initTime",0))},r=()=>{"linear"==localStorage.getItem("initScale")?($("#init_scale").text("Logarithmic"),localStorage.setItem("initScale","logarithmic")):($("#init_scale").text("Linear"),localStorage.setItem("initScale","linear"))};-1!==navigator.userAgent.indexOf("Mobile")||-1!==navigator.userAgent.indexOf("iPhone")||-1!==navigator.userAgent.indexOf("Android")||navigator.userAgent.indexOf("Windows Phone")}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return l[e](o,o.exports,s),o.exports}s.m=l,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(r,l,a)=>{var s;a&&((s=[]).d=-1);var i,c,d,u=new Set,m=r.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[t]=m,p[e]=e=>(s&&e(s),u.forEach(e),p.catch((e=>{}))),r.exports=p,l((r=>{var l;i=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var l=[];l.d=0,r.then((e=>{a[t]=e,n(l)}),(e=>{a[o]=e,n(l)}));var a={};return a[e]=e=>e(l),a}}var s={};return s[e]=e=>{},s[t]=r,s})))(r);var a=()=>i.map((e=>{if(e[o])throw e[o];return e[t]})),c=new Promise((t=>{(l=()=>t(a)).r=0;var o=e=>e!==s&&!u.has(e)&&(u.add(e),e&&!e.d&&(l.r++,e.push(l)));i.map((t=>t[e](o)))}));return l.r?c:a()}),(e=>(e?d(p[o]=e):c(m),n(s)))),s&&s.d<0&&(s.d=0)},r=[],s.O=(e,t,o,n)=>{if(!t){var l=1/0;for(d=0;d<r.length;d++){for(var[t,o,n]=r[d],a=!0,i=0;i<t.length;i++)(!1&n||l>=n)&&Object.keys(s.O).every((e=>s.O[e](t[i])))?t.splice(i--,1):(a=!1,n<l&&(l=n));if(a){r.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=r.length;d>0&&r[d-1][2]>n;d--)r[d]=r[d-1];r[d]=[t,o,n]},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={845:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[l,a,i]=o,c=0;if(l.some((t=>0!==e[t]))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(i)var d=i(s)}for(t&&t(o);c<l.length;c++)r=l[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},o=self.webpackChunkprod_1=self.webpackChunkprod_1||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=s.O(void 0,[883,529,406],(()=>s(706)));i=s.O(i)})();